<ion-header translucent class="no-border">
  <ion-toolbar color="dark">
    <ion-buttons slot="secondary">
      <ion-button> </ion-button>
    </ion-buttons>

    <ion-title>{{language.title}}</ion-title>

    <ion-buttons slot="primary">
      <ion-button (click)="close()">
        <ion-icon name="close-circle-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-card color="dark">
    <ion-card-content *ngFor="let data of wor">
      <div class="img-container-block">
        <ion-row>
          <ion-col size="4">
            <ion-avatar *ngIf="data.profile_image == undefined">
              <img src="../../../../assets/usuario.png" />
            </ion-avatar>
            <ion-avatar *ngIf="data.profile_image != undefined">
              <img
                src="https://api.haskyconnections.com/uploads/{{data.profile_image}}"
              />
            </ion-avatar>
          </ion-col>
          <ion-col size="6">
            <h2>{{data.first_name}} {{data.last_name}}</h2>
            <ionic4-star-rating
              activeIcon="ios-star"
              defaultIcon="ios-star-outline"
              activeColor="#04a1bd"
              defaultColor="#f4f4f4"
              readonly="true"
              rating="data.rating"
              fontSize="32px"
            >
            </ionic4-star-rating>
          </ion-col>
        </ion-row>
      </div>
      <ion-row>
        <ion-item style="width: 100%;" lines="none">
          <ion-label slot="start" color="light">
            {{language.first}}
          </ion-label>
          <ion-label class="ion-text-wrap" color="light">
            {{data.first_name}}
          </ion-label>
        </ion-item>
        <ion-item style="width: 100%;" lines="none">
          <ion-label slot="start" color="light">
            {{language.last}}
          </ion-label>
          <ion-label class="ion-text-wrap" color="light">
            {{data.last_name}}
          </ion-label>
        </ion-item>

        <ion-item style="width: 100%;" lines="none">
          <ion-label slot="start" color="light">
            {{language.address}}
          </ion-label>
          <ion-label class="ion-text-wrap" color="light">
            {{data.address}}
          </ion-label>
        </ion-item>
        <ion-item style="width: 100%;" lines="none">
          <ion-label slot="start" color="light">
            {{language.transport}}
          </ion-label>
          <ion-chip color="secondary" style="color: white;">
            {{data.transport}}
          </ion-chip>
        </ion-item>
        <ion-item style="width: 100%;" lines="none">
          <ion-label
            style="font-size: 12px;"
            color="light"
            class="ion-text-wrap"
            >{{language.days}}</ion-label
          > </ion-item
        ><br />
        <ion-chip color="secondary" *ngFor="let data of days">
          <ion-label color="light" class="ion-text-wrap">{{data}}</ion-label>
        </ion-chip>
        <ion-item style="width: 100%;" lines="none">
          <ion-label
            style="font-size: 12px;"
            color="light"
            class="ion-text-wrap"
            >{{language.trades}}</ion-label
          > </ion-item
        ><br />
        <ion-chip color="secondary" *ngFor="let data of trades">
          <ion-label color="light" class="ion-text-wrap"
            >{{data.name}}</ion-label
          >
        </ion-chip>
        <ion-item style="width: 100%;" lines="none">
          <ion-label
            style="font-size: 12px;"
            color="light"
            class="ion-text-wrap"
            >{{language.tools}}</ion-label
          > </ion-item
        ><br />
        <ion-chip color="secondary" *ngFor="let data of tools">
          <ion-label color="light" class="ion-text-wrap"
            >{{data.description}}</ion-label
          > 
        </ion-chip> </ion-row
      ><br />
      <div *ngIf="cv">
        <!--<ion-button (click)="pruebadownload(data.cv)">
          view cv
        </ion-button> -->
        <a class="btn" [href]="'https://api.haskyconnections.com/uploads/' + data.cv">  view cv</a>
        <br /><br>
      </div>
      <ion-row>
        <ion-col size="6">
          <ion-button expand="block" (click)="accept()" *ngIf="accepted != 1">{{language.accept}}</ion-button>
          <ion-button expand="block" (click)="openChat(data)" *ngIf="accepted == 1">Chat</ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button expand="block" color="danger" (click)="cancel()" *ngIf="accepted != 1" >{{language.cancel}}</ion-button>
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>

  <ion-card color="dark" *ngIf="hrsTotal != 0">
    <ion-card-title style="padding-left: 20px; padding-top: 20px;">
      hours worked 
    </ion-card-title>
    <ion-card-header>
      Total Hours: {{hrs}}
    </ion-card-header>
   
    <ion-row>
      <ion-item style="width: 100%;" lines="none" *ngFor="let dat of hoursT">
        <ion-label slot="start" color="light">
          {{dat.date}}
        </ion-label>
        <ion-label class="ion-text-wrap" color="light">
          {{dat.worked_hours}}
        </ion-label>
      </ion-item>
    </ion-row>
  </ion-card>
</ion-content>
